/**
 * Modules in this bundle
 * @license
 *
 * modal-video:
 *   license: appleple
 *   author: appleple
 *   homepage: http://developer.a-blogcms.jp
 *   version: 2.3.2
 *
 * custom-event-polyfill:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   contributors: Frank Panetta, Mikhail Reenko <reenko@yandex.ru>, Joscha Feth <joscha@feth.com>
 *   homepage: https://github.com/krambuhl/custom-event-polyfill#readme
 *   version: 0.3.0
 *
 * es6-object-assign:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Rub√©n Norte <rubennorte@gmail.com>
 *   homepage: https://github.com/rubennorte/es6-object-assign
 *   version: 1.1.0
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ModalVideo=e()}}(function(){return function(){function e(t,o,n){function i(l,r){if(!o[l]){if(!t[l]){var s="function"==typeof require&&require;if(!r&&s)return s(l,!0);if(a)return a(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var d=o[l]={exports:{}};t[l][0].call(d.exports,function(e){var o=t[l][1][e];return i(o||e)},d,d.exports,e,t,o,n)}return o[l].exports}for(var a="function"==typeof require&&require,l=0;l<n.length;l++)i(n[l]);return i}return e}()({1:[function(e,t,o){try{var n=new window.CustomEvent("test");if(n.preventDefault(),!0!==n.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var i=function(e,t){var o,n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent("CustomEvent"),o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=o.preventDefault,o.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},o};i.prototype=window.Event.prototype,window.CustomEvent=i}},{}],2:[function(e,t,o){"use strict";function n(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var o=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var a=Object.keys(Object(i)),l=0,r=a.length;l<r;l++){var s=a[l],u=Object.getOwnPropertyDescriptor(i,s);void 0!==u&&u.enumerable&&(o[s]=i[s])}}return o}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}t.exports={assign:n,polyfill:i}},{}],3:[function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();e("custom-event-polyfill");var a=e("../lib/util"),l=e("es6-object-assign").assign,r={channel:"youtube",facebook:{},wistia:{autoPlay:!1,controlsVisibleOnLoad:!0,doNotTrac:!0,endVideoBehavior:"default",fullscreenButton:!0,googleAnalytics:!1,muted:!1,playbackRateControl:!0,playbar:!0,playButton:!0,playerColor:"5BB9FB",qualityControl:!0,settingsControl:!0,silentAutoPlay:"allow",smallPlayButton:!0,videoFoam:!0,volume:1,volumeControl:!0,branding:!1},youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,list:null,listType:null,loop:0,modestbranding:null,origin:null,playlist:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark",nocookie:!1},ratio:"16:9",vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,height:null,loop:!1,maxheight:null,maxwidth:null,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},allowFullScreen:!0,animationSpeed:300,classNames:{modalVideo:"modal-video",modalVideoClose:"modal-video-close",modalVideoBody:"modal-video-body",modalVideoInner:"modal-video-inner",modalVideoIframeWrap:"modal-video-movie-wrap",modalVideoCloseBtn:"modal-video-close-btn"},aria:{openMessage:"You just openned the modal video",dismissBtnMessage:"Close the modal by clicking here"}},s=function(){function e(t,o){var i=this;n(this,e);var s=l({},r,o),u="string"==typeof t?document.querySelectorAll(t):t,d=document.querySelector("body"),c=s.classNames,f=s.animationSpeed;[].forEach.call(u,function(e){e.addEventListener("click",function(){(0,a.addClass)(d,"modal-video-opened");var t=e.dataset.videoId,o=e.dataset.channel||s.channel,n=(0,a.getUniqId)(),l=i.getVideoUrl(s,o,t),r=i.getHtml(s,l,n);(0,a.append)(d,r);var u=document.getElementById(n),v=u.querySelector(".js-modal-video-dismiss-btn");u.focus(),u.addEventListener("click",function(){(0,a.addClass)(u,c.modalVideoClose),(0,a.removeClass)(d,"modal-video-opened"),setTimeout(function(){(0,a.remove)(u),e.focus()},f)}),u.addEventListener("keydown",function(e){9===e.which&&(e.preventDefault(),document.activeElement===u?v.focus():(u.setAttribute("aria-label",""),u.focus()))}),v.addEventListener("click",function(){(0,a.triggerEvent)(u,"click")})})})}return i(e,[{key:"getPadding",value:function(e){var t=e.split(":"),o=Number(t[0]);return 100*Number(t[1])/o+"%"}},{key:"getQueryString",value:function(e){var t="";return Object.keys(e).forEach(function(o){t+=o+"="+e[o]+"&"}),t.substr(0,t.length-1)}},{key:"getVideoUrl",value:function(e,t,o){return"youtube"===t?this.getYoutubeUrl(e.youtube,o):"vimeo"===t?this.getVimeoUrl(e.vimeo,o):"facebook"===t?this.getFacebookUrl(e.facebook,o):"wistia"===t?this.getWistiaUrl(e.wistia,o):""}},{key:"getVimeoUrl",value:function(e,t){return"//player.vimeo.com/video/"+t+"?"+this.getQueryString(e)}},{key:"getYoutubeUrl",value:function(e,t){var o=this.getQueryString(e);return!0===e.nocookie?"//www.youtube-nocookie.com/embed/"+t+"?"+o:"//www.youtube.com/embed/"+t+"?"+o}},{key:"getFacebookUrl",value:function(e,t){return"//www.facebook.com/v2.10/plugins/video.php?href=https://www.facebook.com/facebook/videos/"+t+"&"+this.getQueryString(e)}},{key:"getWistiaUrl",value:function(e,t){return"//fast.wistia.com/embed/medias/"+t+"?"+this.getQueryString(e)}},{key:"getHtml",value:function(e,t,o){var n=this.getPadding(e.ratio),i=e.classNames;return'\n      <div class="'+i.modalVideo+'" tabindex="-1" role="dialog" aria-label="'+e.aria.openMessage+'" id="'+o+'">\n        <div class="'+i.modalVideoBody+'">\n          <div class="'+i.modalVideoInner+'">\n            <div class="'+i.modalVideoIframeWrap+'" style="padding-bottom:'+n+'">\n              <button class="'+i.modalVideoCloseBtn+' js-modal-video-dismiss-btn" aria-label="'+e.aria.dismissBtnMessage+"\"></button>\n              <iframe width='460' height='230' src=\""+t+"\" frameborder='0' allowfullscreen="+e.allowFullScreen+' tabindex="-1"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}}]),e}();o.default=s,t.exports=o.default},{"../lib/util":5,"custom-event-polyfill":1,"es6-object-assign":2}],4:[function(e,t,o){"use strict";t.exports=e("./core/")},{"./core/":3}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=(o.append=function(e,t){var o=document.createElement("div");for(o.innerHTML=t;o.children.length>0;)e.appendChild(o.children[0])},o.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},o.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},o.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},o.triggerEvent=function(e,t,o){var n=void 0;window.CustomEvent?n=new CustomEvent(t,{cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!1,!1,o)),e.dispatchEvent(n)},o.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(n(e,t)){var o=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(o," ")}},o.hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))})},{}]},{},[4])(4)});
/**
 * Modules in this bundle
 * @license
 *
 * modal-video:
 *   license: appleple
 *   author: appleple
 *   homepage: http://developer.a-blogcms.jp
 *   version: 2.4.8
 *
 * custom-event-polyfill:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   contributors: Frank Panetta, Mikhail Reenko <reenko@yandex.ru>, Joscha Feth <joscha@feth.com>
 *   homepage: https://github.com/krambuhl/custom-event-polyfill#readme
 *   version: 0.3.0
 *
 * deepmerge:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   homepage: https://github.com/TehShrike/deepmerge
 *   version: 4.3.1
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
!function(){function e(t,n,o){function r(a,l){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n||e)},c,c.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}return e}()({1:[function(e,t,n){try{var o=new window.CustomEvent("test");if(o.preventDefault(),!0!==o.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var r=function(e,t){var n,o;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};r.prototype=window.Event.prototype,window.CustomEvent=r}},{}],2:[function(e,t,n){"use strict";function o(e){return!!e&&"object"==typeof e}function r(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||i(e)}function i(e){return e.$$typeof===b}function a(e){return Array.isArray(e)?[]:{}}function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?p(a(e),e,t):e}function u(e,t,n){return e.concat(t).map(function(e){return l(e,n)})}function s(e,t){if(!t.customMerge)return p;var n=t.customMerge(e);return"function"==typeof n?n:p}function c(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function d(e){return Object.keys(e).concat(c(e))}function f(e,t){try{return t in e}catch(e){return!1}}function m(e,t){return f(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function v(e,t,n){var o={};return n.isMergeableObject(e)&&d(e).forEach(function(t){o[t]=l(e[t],n)}),d(t).forEach(function(r){m(e,r)||(f(e,r)&&n.isMergeableObject(t[r])?o[r]=s(r,n)(e[r],t[r],n):o[r]=l(t[r],n))}),o}function p(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||u,n.isMergeableObject=n.isMergeableObject||h,n.cloneUnlessOtherwiseSpecified=l;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):v(e,t,n):l(t,n)}var h=function(e){return o(e)&&!r(e)},y="function"==typeof Symbol&&Symbol.for,b=y?Symbol.for("react.element"):60103;p.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return p(e,n,t)},{})};var g=p;t.exports=g},{}],3:[function(e,t,n){"use strict";var o=e("../index"),r=function(e){e.fn.modalVideo=function(e){return"strings"==typeof e||new o(this,e),this}};if("function"==typeof define&&define.amd)define(["jquery"],r);else{var i=window.jQuery?window.jQuery:window.$;void 0!==i&&r(i)}t.exports=r},{"../index":5}],4:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e("custom-event-polyfill");var i=e("deepmerge"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=e("../lib/util"),u={channel:"youtube",facebook:{},youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,loop:0,modestbranding:null,mute:0,origin:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark",nocookie:!1},ratio:"16:9",vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,controls:!0,height:null,loop:!1,maxheight:null,maxwidth:null,muted:!1,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},allowFullScreen:!0,allowAutoplay:!0,animationSpeed:300,classNames:{modalVideo:"modal-video",modalVideoClose:"modal-video-close",modalVideoBody:"modal-video-body",modalVideoInner:"modal-video-inner",modalVideoIframeWrap:"modal-video-movie-wrap",modalVideoCloseBtn:"modal-video-close-btn"},handleClassName:{modalVideoDismissBtn:"js-modal-video-dismiss-btn"},aria:{openMessage:"You just openned the modal video",dismissBtnMessage:"Close the modal by clicking here"}},s=function(){function e(t,n){o(this,e),this.opt=(0,a.default)(u,n),this.id=(0,l.getUniqId)(),this.modal=this.onClick.bind(this),this.selectors="string"==typeof t?document.querySelectorAll(t):t,this.add()}return r(e,[{key:"onClick",value:function(e){var t=this,n=e.target;"A"===n.tagName&&e.preventDefault();var o=e.target.dataset.videoId,r=n.dataset.channel||this.opt.channel,i=n.dataset.videoUrl||this.getVideoUrl(this.opt,r,o),a=document.querySelector("body"),u=this.getHtml(i);(0,l.append)(a,u);var s=document.getElementById(this.id),c=s.querySelector("."+this.opt.handleClassName.modalVideoDismissBtn);s.focus();var d=void 0,f=function(){clearTimeout(d),d=setTimeout(function(){var e=t.getWidthFulfillAspectRatio(t.opt.ratio,window.innerHeight,window.innerWidth),n=document.getElementById("modal-video-inner-"+t.id);n.style.maxWidth!==e&&(n.style.maxWidth=e)},10)};s.addEventListener("click",function(){(0,l.addClass)(s,t.opt.classNames.modalVideoClose),window.removeEventListener("resize",f()),setTimeout(function(){(0,l.remove)(s),n.focus()},t.opt.animationSpeed)}),s.addEventListener("keydown",function(e){9===e.which&&(e.preventDefault(),document.activeElement===s?c.focus():(s.setAttribute("aria-label",""),s.focus())),"Escape"===e.key&&(0,l.triggerEvent)(s,"click")}),window.addEventListener("resize",f()),c.addEventListener("click",function(){(0,l.triggerEvent)(s,"click")})}},{key:"getWidthFulfillAspectRatio",value:function(e,t,n){var o=e.split(":"),r=Number(o[0]),i=Number(o[1]);return t<n*(i/r)?Math.floor(r/i*t)+"px":"100%"}},{key:"getQueryString",value:function(e){var t="";return Object.keys(e).forEach(function(n){t+=n+"="+e[n]+"&"}),t.substr(0,t.length-1)}},{key:"getVideoUrl",value:function(e,t,n){return"youtube"===t?this.getYoutubeUrl(e.youtube,n):"vimeo"===t?this.getVimeoUrl(e.vimeo,n):"facebook"===t?this.getFacebookUrl(e.facebook,n):"custom"===t?e.url:""}},{key:"getVimeoUrl",value:function(e,t){return"//player.vimeo.com/video/"+t+"?"+this.getQueryString(e)}},{key:"getYoutubeUrl",value:function(e,t){var n=this.getQueryString(e);return!0===e.nocookie?"//www.youtube-nocookie.com/embed/"+t+"?"+n:"//www.youtube.com/embed/"+t+"?"+n}},{key:"getFacebookUrl",value:function(e,t){return"//www.facebook.com/v2.10/plugins/video.php?href=https://www.facebook.com/facebook/videos/"+t+"&"+this.getQueryString(e)}},{key:"add",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.selectors="string"==typeof this.selectors?document.querySelectorAll(this.selectors):this.selectors),Array.from(this.selectors).forEach(function(t){t.addEventListener("click",e.modal)})}},{key:"destroy",value:function(){var e=this;Array.from(this.selectors).forEach(function(t){t.removeEventListener("click",e.modal)})}},{key:"getPadding",value:function(e){var t=e.split(":"),n=Number(t[0]);return 100*Number(t[1])/n+"%"}},{key:"getHtml",value:function(e){var t=this.getPadding(this.opt.ratio);return'\n      <div class="'+this.opt.classNames.modalVideo+'" tabindex="-1" role="dialog" aria-label="'+this.opt.aria.openMessage+'" id="'+this.id+'">\n        <div class="'+this.opt.classNames.modalVideoBody+'">\n          <div class="'+this.opt.classNames.modalVideoInner+'" id="modal-video-inner-'+this.id+'">\n            <div class="'+this.opt.classNames.modalVideoIframeWrap+'" style="padding-bottom:'+t+'">\n            <button class="'+this.opt.classNames.modalVideoCloseBtn+" "+this.opt.handleClassName.modalVideoDismissBtn+'" aria-label="'+this.opt.aria.dismissBtnMessage+"\"></button>\n              <iframe width='460' height='230' src=\""+e+"\" frameborder='0' allowfullscreen="+this.opt.allowFullScreen+' tabindex="-1" allow="'+(this.opt.allowAutoplay?"autoplay;":"")+' accelerometer; encrypted-media; gyroscope; picture-in-picture" />\n\n            </div>\n          </div>\n        </div>\n      </div>\n    '}}]),e}();n.default=s,t.exports=n.default},{"../lib/util":6,"custom-event-polyfill":1,deepmerge:2}],5:[function(e,t,n){"use strict";t.exports=e("./core/")},{"./core/":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.append=function(e,t){var n=document.createElement("div");for(n.innerHTML=t;n.children.length>0;)e.appendChild(n.children[0])},n.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},n.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},n.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},n.triggerEvent=function(e,t,n){var o=void 0;window.CustomEvent?o=new CustomEvent(t,{cancelable:!0}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,!1,!1,n)),e.dispatchEvent(o)}},{}]},{},[3]);